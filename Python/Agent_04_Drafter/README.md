# üìÑ –°–∏—Å—Ç–µ–º–∞ AI –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Drafter)
## –ß—Ç–æ —Ç–∞–∫–æ–µ AI Agent

**AI Agent** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è:

* –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LLM –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π;
* –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (tools, —Ñ—É–Ω–∫—Ü–∏—è–º, API, –ë–î);
* –º–æ–∂–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏;
* —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (–∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ).

–í —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–∏–º–µ—Ä–æ–º –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è `Agent_04_Drafter`.

---

### üìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª—ã:
–£—á–µ–±–Ω—ã–π –∫—É—Ä—Å "LangGraph Complete Course for Beginners ‚Äì Complex AI Agents with Python"  

* –í–∏–¥–µ–æ (English, 3 —á–∞—Å–∞ 10 –º–∏–Ω—É—Ç): [https://www.youtube.com/watch?v=jGg_1h0qzaM](https://www.youtube.com/watch?v=jGg_1h0qzaM)
* –§—Ä–∞–≥–º–µ–Ω—Ç –ø—Ä–æ Drafter (—Å–º. –Ω–∞ 2-–º —á–∞—Å–µ 29 –º–∏–Ω—É—Ç): https://youtu.be/jGg_1h0qzaM?si=Im3SNnyqjNa1VqS3&t=8952
![youtube_drafter_01.png](Images/youtube_drafter_01.png)

* –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: [https://github.com/iamvaibhavmehra/LangGraph-Course-freeCodeCamp](https://github.com/iamvaibhavmehra/LangGraph-Course-freeCodeCamp)
* https://github.com/iamvaibhavmehra/LangGraph-Course-freeCodeCamp/blob/main/Agents/Drafter.py

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–ö–æ–º–ø–∞–Ω–∏—è —Ç—Ä–∞—Ç–∏—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –ø–∏—Å–µ–º –∏ –¥—Ä—É–≥–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.  
–ó–∞–¥–∞—á–∞ ‚Äî **—É—Å–∫–æ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤** –∑–∞ —Å—á—ë—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∏ –ø—Ä–∞–≤–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤.

---

## üöÄ –ó–∞–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞—Ç—å **AI-–∞–≥–µ–Ω—Ç–Ω—É—é —Å–∏—Å—Ç–µ–º—É**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:

- –±—ã—Å—Ç—Ä–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤;
- –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ —É–ª—É—á—à–∞—Ç—å –∏ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã;
- —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ç–æ–≥–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –≤ —Ñ–∞–π–ª—ã.

---

## ü§ù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

### 1. Human-AI Collaboration

–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:

- —á–µ–ª–æ–≤–µ–∫ –º–æ–∂–µ—Ç **–ø–æ—Å—Ç–æ—è–Ω–Ω–æ –¥–∞–≤–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å**;
- –ò–ò –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å **–±—ã—Å—Ç—Ä–æ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è** –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ;
- –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —á–µ–ª–æ–≤–µ–∫ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—ë–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º.

### 2. –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ **Ollama** –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫.
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ –≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —à–∞–≥–∞—Ö –≥—Ä–∞—Ñ–∞.

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, —É–∫–∞–∑–∞–≤ –∏–º—è —Ñ–∞–π–ª–∞ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.txt` –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Python **3.11**
- **LangGraph** (`StateGraph`, `ToolNode`)
- **Ollama** + –º–æ–¥–µ–ª—å **Qwen3**:
```bash
  ollama pull qwen3:latest
```
![qwen3_latest.png](Images/qwen3_latest.png)
---

## üîß –ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä –∫–æ–¥–∞

### –°–æ—Å—Ç–æ—è–Ω–∏–µ (`AgentState`)

```python
class AgentState(TypedDict):
    messages: Annotated[Sequence[BaseMessage], add_messages]
```

* –í `messages` —Ö—Ä–∞–Ω–∏—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞ (Human / AI / Tool / System —Å–æ–æ–±—â–µ–Ω–∏—è).
* `add_messages` –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –¥–æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∏—Å—Ç–æ—Ä–∏—é.

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–≥–µ–Ω—Ç–∞ (tools)

```python
@tool
def update(content: str) -> str:
    ...

@tool
def save(filename: str) -> str:
    ...
```

* `update` ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `document_content`.
* `save` ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `document_content` –≤ —Ñ–∞–π–ª –∏ —Å–æ–æ–±—â–∞–µ—Ç –ø—É—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

### –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∞–≥–µ–Ω—Ç–∞

```python
def our_agent(state: AgentState) -> AgentState:
    ...
```

* –°—Ç—Ä–æ–∏—Ç **SystemMessage** —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–æ–ª–∏ –∞–≥–µ–Ω—Ç–∞:

  * –∞–≥–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç –ø–æ-—Ä—É—Å—Å–∫–∏;
  * –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `update` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞;
  * –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `save` –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã.
* –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –µ—â—ë –Ω–µ—Ç ‚Äî –∞–≥–µ–Ω—Ç —Å–∞–º –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å.
* –î–∞–ª–µ–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`input`) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å—ë –≤ –º–æ–¥–µ–ª—å.

### –£—Å–ª–æ–≤–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

```python
def should_continue(state: AgentState) -> str:
    ...
```

* –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Å—Ç–æ—Ä–∏—é `messages`.
* –ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è `ToolMessage` —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"end"`.
* –ò–Ω–∞—á–µ ‚Äî `"continue"`.

### –ì—Ä–∞—Ñ LangGraph

```python
graph = StateGraph(AgentState)
graph.add_node("agent", our_agent)
graph.add_node("tools", ToolNode(tools))
graph.set_entry_point("agent")
graph.add_edge("agent", "tools")
graph.add_conditional_edges("tools", should_continue, {"continue": "agent", "end": END})
app = graph.compile()
```

* –£–∑–ª—ã: `agent` –∏ `tools`.
* –¶–∏–∫–ª: `agent ‚Üí tools ‚Üí agent` –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ `should_continue` –Ω–µ –≤–µ—Ä–Ω—ë—Ç `"end"`.

![Agent_04_Drafter.PNG](Images/Agent_04_Drafter.PNG)

---

## üíª –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è (Windows)

```bash
cd venv\Scripts
activate
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ)
—Å–º.[requirements.txt](../../requirements.txt)

```bash
pip install -r requirements.txt
pip install -U "langgraph-cli[inmem]"
```

### 3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Ollama –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —Ç—Ä–µ–±—É–µ–º–∞—è LLM:

```bash
ollama list
ollama pull qwen3:latest
```

### 4. –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ `LocalMultiAgents_01` –∏ –∑–∞–ø—É—Å–∫

```bash
cd ..\..\Python\Agent_04_Drafter
python.exe Agent_04_Drafter.py
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Å–º. –≤ —Ñ–∞–π–ª–µ:
[OutPut_01.txt](OutPut_01.txt)

---
## üêû –û—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑ LangSmith (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –≤ `.env` –∑–∞–¥–∞—Ç—å:

```env
LANGSMITH_API_KEY=...
LANGCHAIN_TRACING_V2=true
LANGCHAIN_PROJECT=DrafterAgent
```

‚Äî —Ç–æ –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ LangSmith:

* –ü—Ä–æ–µ–∫—Ç
* –®–∞–≥–∏ –≥—Ä–∞—Ñ–∞
* –í—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

![DeBug_01.png](Images/DeBug_01.png)
---

## üß™ –û—Ç–ª–∞–¥–∫–∞ —á–µ—Ä–µ–∑  LangGraph Studio (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
—Å–º. –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ:
[langgraph.json](langgraph.json)

–î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–≥–µ–Ω—Ç–∞:

```bash
langgraph dev
```

* –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å LangGraph Studio.
* –í –Ω—ë–º –º–æ–∂–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å:

  * –≥—Ä–∞—Ñ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è;
  * —Å–æ—Å—Ç–æ—è–Ω–∏—è —à–∞–≥–æ–≤;
  * –≤—ã–∑–æ–≤—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

![LangGraphStudio_01.png](Images/LangGraphStudio_01.png)

